{
  "name": "æ”¯ä»˜ç³»ç»Ÿ - payments.test.ts",
  "command": "npm test tests/api/payments.test.ts",
  "startTime": "2025-12-09T12:32:32.269Z",
  "status": "passed",
  "output": "\n> zhongdao-mall@1.0.0 test\n> vitest tests/api/payments.test.ts\n\n\n\u001b[1m\u001b[46m RUN \u001b[49m\u001b[22m \u001b[36mv4.0.15 \u001b[39m\u001b[90mD:/wwwroot/zhongdao-mall/tests\u001b[39m\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\n\u001b[22m\u001b[39m[dotenv@17.2.3] injecting env (115) from .env.local -- tip: ğŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\n\u001b[22m\u001b[39mğŸ“š Swagger API æ–‡æ¡£å·²å¯åŠ¨: http://localhost:3000/api-docs\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\n\u001b[22m\u001b[39m\nğŸš€ ä¸­é“å•†åŸç³»ç»Ÿå¯åŠ¨æˆåŠŸï¼\nğŸ“ ç«¯å£: 3000\nğŸŒ ç¯å¢ƒ: ç”Ÿäº§æ¨¡å¼\nğŸ—„ï¸ æ•°æ®åº“: å·²è¿æ¥ (127.0.0.1:3306/zhongdao_mall_dev)\nğŸ”— å¥åº·æ£€æŸ¥: http://localhost:3000/health\nğŸ“š APIæ–‡æ¡£: http://localhost:3000/api-docs\n\nğŸ§ª æµ‹è¯•ç¯å¢ƒï¼šè·³è¿‡ç³»ç»Ÿé…ç½®åˆå§‹åŒ–\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\n\u001b[22m\u001b[39m[dotenv@17.2.3] injecting env (30) from .env.test -- tip: ğŸ” encrypt with Dotenvx: https://dotenvx.com\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mğŸš€ å¼€å§‹è®¾ç½®æµ‹è¯•ç¯å¢ƒ...\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æµ‹è¯•æ•°æ®åº“è¿æ¥æˆåŠŸ\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mğŸ§¹ å¼€å§‹æ¸…ç†æµ‹è¯•æ•°æ®...\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mğŸ” å‘ç° 0 ä¸ªæµ‹è¯•ç”¨æˆ·éœ€è¦æ¸…ç†\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† products è¡¨å®Œæˆ\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† productCategories è¡¨å®Œæˆ\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† users è¡¨å®Œæˆï¼Œåˆ é™¤äº† 0 ä¸ªç”¨æˆ·\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† systemConfigs è¡¨å®Œæˆ\nâœ… æµ‹è¯•æ•°æ®æ¸…ç†å®Œæˆï¼Œè€—æ—¶: 42ms\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æµ‹è¯•ç”¨æˆ·å·²æ¸…ç†ï¼Œåˆ é™¤äº† 0 ä¸ªç”¨æˆ·\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… Mockæ•°æ®å·²æ¸…ç†\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mğŸŒ± å¼€å§‹åˆ›å»ºæµ‹è¯•æ•°æ®ç§å­...\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æµ‹è¯•æ•°æ®ç§å­åˆ›å»ºå®Œæˆ\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æµ‹è¯•ç¯å¢ƒè®¾ç½®å®Œæˆ\nğŸ“Š æµ‹è¯•ç”¨æˆ·: admin, normal, vip, star1, star3, star5\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mğŸ§¹ å¼€å§‹æ¸…ç†æµ‹è¯•ç¯å¢ƒ...\nğŸ§¹ å¼€å§‹æ¸…ç†æµ‹è¯•æ•°æ®...\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mğŸ” å‘ç° 6 ä¸ªæµ‹è¯•ç”¨æˆ·éœ€è¦æ¸…ç†\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† inventoryLogs è¡¨å®Œæˆ\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† pointsTransactions è¡¨å®Œæˆ\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† teamMembers è¡¨å®Œæˆ\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† notifications è¡¨å®Œæˆ\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† giftRecords è¡¨å®Œæˆ\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mprisma:error \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `1054`. Message: `Unknown column 'buyerId' in 'where clause'`\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mprisma:error \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `1054`. Message: `Unknown column 'userId' in 'where clause'`\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâš ï¸ è¡¨ orderItems æ¸…ç†å¤±è´¥ï¼ˆå¯èƒ½ä¸å­˜åœ¨æˆ–å­—æ®µé”™è¯¯ï¼‰\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† inventoryItems è¡¨å®Œæˆ\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mprisma:error \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `1146`. Message: `Table 'zhongdao_mall_dev.productreviews' doesn't exist`\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâš ï¸ è¡¨ productReviews æ¸…ç†å¤±è´¥ï¼ˆå¯èƒ½ä¸å­˜åœ¨ï¼‰\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† orders è¡¨å®Œæˆ\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† products è¡¨å®Œæˆ\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† productCategories è¡¨å®Œæˆ\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† users è¡¨å®Œæˆï¼Œåˆ é™¤äº† 6 ä¸ªç”¨æˆ·\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æ¸…ç† systemConfigs è¡¨å®Œæˆ\nâœ… æµ‹è¯•æ•°æ®æ¸…ç†å®Œæˆï¼Œè€—æ—¶: 80ms\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æµ‹è¯•ç”¨æˆ·å·²æ¸…ç†ï¼Œåˆ é™¤äº† 0 ä¸ªç”¨æˆ·\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… Mockæ•°æ®å·²æ¸…ç†\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æµ‹è¯•æ•°æ®åº“è¿æ¥å·²æ–­å¼€\n\n\u001b[90mstdout\u001b[2m | api/payments.test.ts\u001b[2m > \u001b[22m\u001b[2mPayment API\n\u001b[22m\u001b[39mâœ… æµ‹è¯•ç¯å¢ƒæ¸…ç†å®Œæˆ\n\n \u001b[32mâœ“\u001b[39m api/payments.test.ts \u001b[2m(\u001b[22m\u001b[2m2 tests\u001b[22m\u001b[2m)\u001b[22m\u001b[33m 404\u001b[2mms\u001b[22m\u001b[39m\n\n\u001b[2m Test Files \u001b[22m \u001b[1m\u001b[32m1 passed\u001b[39m\u001b[22m\u001b[90m (1)\u001b[39m\n\u001b[2m      Tests \u001b[22m \u001b[1m\u001b[32m2 passed\u001b[39m\u001b[22m\u001b[90m (2)\u001b[39m\n\u001b[2m   Start at \u001b[22m 20:32:33\n\u001b[2m   Duration \u001b[22m 4.72s\u001b[2m (transform 1.96s, setup 3.91s, import 95ms, tests 404ms, environment 0ms)\u001b[22m\n\n",
  "error": "",
  "endTime": "2025-12-09T12:32:38.811Z",
  "duration": 6542
}