
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>APIæµ‹è¯•æŠ¥å‘Š - 2025/12/9</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .header { background: #f0f0f0; padding: 20px; border-radius: 5px; }
        .summary { display: flex; gap: 20px; margin: 20px 0; }
        .metric { background: #fff; padding: 15px; border-radius: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center; }
        .metric h3 { margin: 0; font-size: 24px; }
        .passed { color: #28a745; }
        .failed { color: #dc3545; }
        .skipped { color: #ffc107; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { padding: 10px; border: 1px solid #ddd; text-align: left; }
        th { background: #f8f9fa; }
        .status-passed { background: #d4edda; }
        .status-failed { background: #f8d7da; }
        .issues { background: #fff3cd; padding: 15px; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ä¸­é“å•†åŸç³»ç»Ÿ - APIæµ‹è¯•æŠ¥å‘Š</h1>
        <p>æµ‹è¯•æ—¶é—´: 2025/12/9 20:19:56 - 2025/12/9 20:32:58</p>
        <p>æ€»è€—æ—¶: 782.44 ç§’</p>
    </div>

    <div class="summary">
        <div class="metric">
            <h3 class="passed">1</h3>
            <p>é€šè¿‡</p>
        </div>
        <div class="metric">
            <h3 class="failed">12</h3>
            <p>å¤±è´¥</p>
        </div>
        <div class="metric">
            <h3>13</h3>
            <p>æ€»è®¡</p>
        </div>
    </div>

    <h2>æµ‹è¯•è¯¦æƒ…</h2>
    <table>
        <thead>
            <tr>
                <th>æ¨¡å—</th>
                <th>çŠ¶æ€</th>
                <th>è€—æ—¶(ç§’)</th>
            </tr>
        </thead>
        <tbody>
            
                <tr class="status-failed">
                    <td>00-ç¯å¢ƒæ£€æŸ¥</td>
                    <td>âŒ å¤±è´¥</td>
                    <td>2.10</td>
                </tr>
            
                <tr class="status-failed">
                    <td>ç”¨æˆ·è®¤è¯ç³»ç»Ÿ - auth.test.ts</td>
                    <td>âŒ å¤±è´¥</td>
                    <td>5.19</td>
                </tr>
            
                <tr class="status-failed">
                    <td>ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ - users.test.ts</td>
                    <td>âŒ å¤±è´¥</td>
                    <td>276.56</td>
                </tr>
            
                <tr class="status-failed">
                    <td>å•†åŸç®¡ç†ç³»ç»Ÿ - shops.test.ts</td>
                    <td>âŒ å¤±è´¥</td>
                    <td>7.87</td>
                </tr>
            
                <tr class="status-failed">
                    <td>å•†å“ç®¡ç†ç³»ç»Ÿ - products.test.ts</td>
                    <td>âŒ å¤±è´¥</td>
                    <td>4.59</td>
                </tr>
            
                <tr class="status-failed">
                    <td>è®¢å•ç®¡ç†ç³»ç»Ÿ - orders.test.ts</td>
                    <td>âŒ å¤±è´¥</td>
                    <td>4.69</td>
                </tr>
            
                <tr class="status-failed">
                    <td>ç§¯åˆ†ç³»ç»Ÿ - points.test.ts</td>
                    <td>âŒ å¤±è´¥</td>
                    <td>454.96</td>
                </tr>
            
                <tr class="status-passed">
                    <td>æ”¯ä»˜ç³»ç»Ÿ - payments.test.ts</td>
                    <td>âœ… é€šè¿‡</td>
                    <td>6.54</td>
                </tr>
            
                <tr class="status-failed">
                    <td>ä½£é‡‘ç³»ç»Ÿ - commission.test.ts</td>
                    <td>âŒ å¤±è´¥</td>
                    <td>8.13</td>
                </tr>
            
                <tr class="status-failed">
                    <td>ç®¡ç†ç³»ç»Ÿ</td>
                    <td>âŒ å¤±è´¥</td>
                    <td>6.89</td>
                </tr>
            
                <tr class="status-failed">
                    <td>å®‰å…¨æµ‹è¯•</td>
                    <td>âŒ å¤±è´¥</td>
                    <td>1.71</td>
                </tr>
            
                <tr class="status-failed">
                    <td>æ€§èƒ½æµ‹è¯•</td>
                    <td>âŒ å¤±è´¥</td>
                    <td>1.70</td>
                </tr>
            
                <tr class="status-failed">
                    <td>é›†æˆæµ‹è¯•</td>
                    <td>âŒ å¤±è´¥</td>
                    <td>1.49</td>
                </tr>
            
        </tbody>
    </table>

    
        <div class="issues">
            <h2>âš ï¸ å‘ç°çš„é—®é¢˜</h2>
            <ul>
                
                    <li>
                        <strong>00-ç¯å¢ƒæ£€æŸ¥</strong>: Command failed: npm run db:validate
D:\wwwroot\zhongdao-mall\src\scripts\test-data-manager.ts:173
    const userHierarchy = await prisma.usersss.groupBy({
                                               ^

TypeError: Cannot read properties of undefined (reading 'groupBy')
    at TestDataManager.validateData (D:\wwwroot\zhongdao-mall\src\scripts\test-data-manager.ts:173:48)
    at async Command.<anonymous> (D:\wwwroot\zhongdao-mall\src\scripts\test-data-manager.ts:552:21)

Node.js v22.21.1

                        <br><em>å»ºè®®: æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œè”ç³»ç›¸å…³å¼€å‘äººå‘˜</em>
                    </li>
                
                    <li>
                        <strong>ç”¨æˆ·è®¤è¯ç³»ç»Ÿ - auth.test.ts</strong>: Command failed: npm test tests/api/auth.test.ts
[90mstderr[2m | api/auth.test.ts[2m > [22m[2mè®¤è¯APIæµ‹è¯•[2m > [22m[2mPOST /auth/refresh[2m > [22m[2måº”è¯¥èƒ½å¤Ÿåˆ·æ–°è®¿é—®ä»¤ç‰Œ
[22m[39mè·³è¿‡tokenåˆ·æ–°æµ‹è¯• - ç¼ºå°‘refreshToken

[90mstderr[2m | api/auth.test.ts[2m > [22m[2mè®¤è¯APIæµ‹è¯•[2m > [22m[2mPOST /auth/logout[2m > [22m[2måº”è¯¥èƒ½å¤ŸæˆåŠŸç™»å‡º
[22m[39mè·³è¿‡ç™»å‡ºæµ‹è¯• - ç¼ºå°‘authToken

[90mstderr[2m | api/auth.test.ts[2m > [22m[2mè®¤è¯APIæµ‹è¯•[2m > [22m[2mGET /auth/me[2m > [22m[2måº”è¯¥èƒ½å¤Ÿè·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
[22m[39mè·³è¿‡ç”¨æˆ·ä¿¡æ¯æµ‹è¯• - ç¼ºå°‘authToken


[31mâ¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 5 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m api/auth.test.ts[2m > [22mè®¤è¯APIæµ‹è¯•[2m > [22mPOST /auth/wechat-login[2m > [22måº”è¯¥èƒ½å¤Ÿä½¿ç”¨å¾®ä¿¡ç™»å½•ç ç™»å½•
[31m[1mAssertionError[22m: expected { â€¦(2) } to have property "token"[39m
[36m [2mâ¯[22m api/auth.test.ts:[2m39:34[22m[39m
    [90m 37| [39m
    [90m 38| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m 39| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39mdata)[33m.[39m[34mtoHaveProperty[39m([32m'token'[39m)[33m;[39m
    [90m   | [39m                                 [31m^[39m
    [90m 40| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39mdata)[33m.[39m[34mtoHaveProperty[39m([32m'refreshToken'[39m)[33m;[39m
    [90m 41| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39mdata)[33m.[39m[34mtoHaveProperty[39m([32m'user'[39m)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/5]â¯[22m[39m

[41m[1m FAIL [22m[49m api/auth.test.ts[2m > [22mè®¤è¯APIæµ‹è¯•[2m > [22mPOST /auth/wechat-login[2m > [22måº”è¯¥æ‹’ç»æ— æ•ˆçš„ç™»å½•ç 
[31m[1mError[22m: expected 400 "Bad Request", got 200 "OK"[39m
[36m [2mâ¯[22m api/auth.test.ts:[2m58:10[22m[39m
    [90m 56| [39m        [33m.[39m[34mpost[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/auth/wechat-login`[39m)
    [90m 57| [39m        [33m.[39m[34msend[39m(loginData)
    [90m 58| [39m        [33m.[39m[34mexpect[39m([34m400[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 59| [39m
    [90m 60| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/5]â¯[22m[39m

[41m[1m FAIL [22m[49m api/auth.test.ts[2m > [22mè®¤è¯APIæµ‹è¯•[2m > [22mPOST /auth/wechat-login[2m > [22måº”è¯¥æ‹’ç»ç¼ºå°‘å¿…è¦å‚æ•°çš„ç™»å½•è¯·æ±‚
[31m[1mError[22m: expected 400 "Bad Request", got 200 "OK"[39m
[36m [2mâ¯[22m api/auth.test.ts:[2m68:10[22m[39m
    [90m 66| [39m        [33m.[39m[34mpost[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/auth/wechat-login`[39m)
    [90m 67| [39m        [33m.[39m[34msend[39m({})
    [90m 68| [39m        [33m.[39m[34mexpect[39m([34m400[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 69| [39m
    [90m 70| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/5]â¯[22m[39m

[41m[1m FAIL [22m[49m api/auth.test.ts[2m > [22mè®¤è¯APIæµ‹è¯•[2m > [22mPOST /auth/refresh[2m > [22måº”è¯¥æ‹’ç»æ— æ•ˆçš„refreshToken
[31m[1mError[22m: expected 401 "Unauthorized", got 200 "OK"[39m
[36m [2mâ¯[22m api/auth.test.ts:[2m99:10[22m[39m
    [90m 97| [39m        [33m.[39m[34mpost[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/auth/refresh`[39m)
    [90m 98| [39m        [33m.[39m[34msend[39m({ refreshToken[33m:[39m [32m'invalid_refresh_token'[39m })
    [90m 99| [39m        [33m.[39m[34mexpect[39m([34m401[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m100| [39m
    [90m101| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/5]â¯[22m[39m

[41m[1m FAIL [22m[49m api/auth.test.ts[2m > [22mè®¤è¯APIæµ‹è¯•[2m > [22mPOST /auth/logout[2m > [22måº”è¯¥æ‹’ç»æœªæˆæƒçš„ç™»å‡ºè¯·æ±‚
[31m[1mError[22m: expected 401 "Unauthorized", got 415 "Unsupported Media Type"[39m
[36m [2mâ¯[22m api/auth.test.ts:[2m124:10[22m[39m
    [90m122| [39m      [35mconst[39m response [33m=[39m [35mawait[39m [34mrequest[39m(app)
    [90m123| [39m        [33m.[39m[34mpost[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/auth/logout`[39m)
    [90m124| [39m        [33m.[39m[34mexpect[39m([34m401[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m125| [39m
    [90m126| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/5]â¯[22m[39m


                        <br><em>å»ºè®®: æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œè”ç³»ç›¸å…³å¼€å‘äººå‘˜</em>
                    </li>
                
                    <li>
                        <strong>ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ - users.test.ts</strong>: Command failed: npm test tests/api/users.test.ts

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 30 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/profile[2m > [22mæ™®é€šç”¨æˆ·åº”è¯¥èƒ½å¤Ÿè·å–ä¸ªäººä¿¡æ¯
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m105:10[22m[39m
    [90m103| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/profile`[39m)
    [90m104| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mnormalUserToken[36m}[39m[32m`[39m)
    [90m105| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m106| [39m
    [90m107| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/profile[2m > [22mVIPç”¨æˆ·åº”è¯¥æ˜¾ç¤ºVIPç­‰çº§æ ‡è¯†
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m118:10[22m[39m
    [90m116| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/profile`[39m)
    [90m117| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mvipUserToken[36m}[39m[32m`[39m)
    [90m118| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m119| [39m
    [90m120| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/profile[2m > [22mæ˜Ÿåº—é•¿åº”è¯¥æ˜¾ç¤ºåº—é“ºç®¡ç†æƒé™
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m128:10[22m[39m
    [90m126| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/profile`[39m)
    [90m127| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mstarUserToken[36m}[39m[32m`[39m)
    [90m128| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m129| [39m
    [90m130| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/profile[2m > [22mç®¡ç†å‘˜åº”è¯¥æ˜¾ç¤ºç®¡ç†å‘˜æ ‡è¯†
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m138:10[22m[39m
    [90m136| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/profile`[39m)
    [90m137| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39madminToken[36m}[39m[32m`[39m)
    [90m138| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m139| [39m
    [90m140| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mPUT /users/profile[2m > [22måº”è¯¥èƒ½å¤Ÿæ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m167:10[22m[39m
    [90m165| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mnormalUserToken[36m}[39m[32m`[39m)
    [90m166| [39m        [33m.[39m[34msend[39m(updateData)
    [90m167| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m168| [39m
    [90m169| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/:id[2m > [22mç®¡ç†å‘˜åº”è¯¥èƒ½å¤ŸæŸ¥çœ‹ä»»æ„ç”¨æˆ·ä¿¡æ¯
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m224:10[22m[39m
    [90m222| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/[39m[36m${[39mtestUserId[36m}[39m[32m`[39m)
    [90m223| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39madminToken[36m}[39m[32m`[39m)
    [90m224| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m225| [39m
    [90m226| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/:id[2m > [22mç”¨æˆ·åº”è¯¥èƒ½å¤ŸæŸ¥çœ‹è‡ªå·±çš„ä¿¡æ¯
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m238:10[22m[39m
    [90m236| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/[39m[36m${[39mcurrentUserId[36m}[39m[32m`[39m)
    [90m237| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mnormalUserToken[36m}[39m[32m`[39m)
    [90m238| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m239| [39m
    [90m240| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/:id[2m > [22mä¸å­˜åœ¨çš„ç”¨æˆ·IDåº”è¿”å›404
[31m[1mError[22m: expected 404 "Not Found", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m264:10[22m[39m
    [90m262| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/[39m[36m${[39mfakeId[36m}[39m[32m`[39m)
    [90m263| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39madminToken[36m}[39m[32m`[39m)
    [90m264| [39m        [33m.[39m[34mexpect[39m([34m404[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m265| [39m
    [90m266| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/team[2m > [22mæ˜Ÿåº—é•¿åº”è¯¥èƒ½å¤ŸæŸ¥çœ‹è‡ªå·±çš„å›¢é˜Ÿ
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m275:10[22m[39m
    [90m273| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/team`[39m)
    [90m274| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mstarUserToken[36m}[39m[32m`[39m)
    [90m275| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m276| [39m
    [90m277| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/team[2m > [22mç®¡ç†å‘˜åº”è¯¥èƒ½å¤ŸæŸ¥çœ‹æ‰€æœ‰å›¢é˜Ÿ
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m287:10[22m[39m
    [90m285| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/team`[39m)
    [90m286| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39madminToken[36m}[39m[32m`[39m)
    [90m287| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m288| [39m
    [90m289| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[10/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/team[2m > [22må›¢é˜Ÿæ•°æ®åº”åŒ…å«å±‚çº§å…³ç³»
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m306:10[22m[39m
    [90m304| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/team`[39m)
    [90m305| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mstarUserToken[36m}[39m[32m`[39m)
    [90m306| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m307| [39m
    [90m308| [39m      if (response.body.data.members && response.body.data.members.lenâ€¦
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[11/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/statistics[2m > [22mç”¨æˆ·åº”è¯¥èƒ½å¤ŸæŸ¥çœ‹ä¸ªäººç»Ÿè®¡
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m321:10[22m[39m
    [90m319| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/statistics`[39m)
    [90m320| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mnormalUserToken[36m}[39m[32m`[39m)
    [90m321| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m322| [39m
    [90m323| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[12/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/statistics[2m > [22mæ˜Ÿåº—é•¿åº”è¯¥æœ‰å›¢é˜Ÿä¸šç»©ç»Ÿè®¡
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m333:10[22m[39m
    [90m331| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/statistics`[39m)
    [90m332| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mstarUserToken[36m}[39m[32m`[39m)
    [90m333| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m334| [39m
    [90m335| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[13/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/statistics[2m > [22mç®¡ç†å‘˜åº”è¯¥æœ‰å…¨å±€ç»Ÿè®¡
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m344:10[22m[39m
    [90m342| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/statistics`[39m)
    [90m343| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39madminToken[36m}[39m[32m`[39m)
    [90m344| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m345| [39m
    [90m346| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[14/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /users/upload-avatar[2m > [22måº”è¯¥èƒ½å¤Ÿä¸Šä¼ å¤´åƒ
[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /users/upload-avatar[2m > [22måº”è¯¥éªŒè¯æ–‡ä»¶ç±»å‹
[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /users/upload-avatar[2m > [22mæœªè®¤è¯ç”¨æˆ·ä¸èƒ½ä¸Šä¼ å¤´åƒ
[31m[1mError[22m: Aborted[39m
[90m [2mâ¯[22m Test.<anonymous> ../node_modules/superagent/lib/request-base.js:[2m258:23[22m[39m
[90m [2mâ¯[22m Test.RequestBase.abort ../node_modules/superagent/lib/request-base.js:[2m447:8[22m[39m
[90m [2mâ¯[22m FormData.<anonymous> ../node_modules/superagent/lib/node/index.js:[2m286:12[22m[39m
[90m [2mâ¯[22m FormData.CombinedStream._emitError ../node_modules/combined-stream/lib/combined_stream.js:[2m207:8[22m[39m
[90m [2mâ¯[22m DelayedStream.<anonymous> ../node_modules/combined-stream/lib/combined_stream.js:[2m133:10[22m[39m
[90m [2mâ¯[22m DelayedStream._handleEmit ../node_modules/delayed-stream/lib/delayed_stream.js:[2m82:15[22m[39m
[90m [2mâ¯[22m ReadStream.source.emit ../node_modules/delayed-stream/lib/delayed_stream.js:[2m29:19[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[15/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /users/bind-phone[2m > [22måº”è¯¥èƒ½å¤Ÿç»‘å®šæ‰‹æœºå·
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/users.test.ts:[2m397:5[22m[39m
    [90m395| [39m
    [90m396| [39m  [34mdescribe[39m([32m'POST /users/bind-phone'[39m[33m,[39m () [33m=>[39m {
    [90m397| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤Ÿç»‘å®šæ‰‹æœºå·'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m398| [39m      [35mconst[39m phoneData [33m=[39m {
    [90m399| [39m        phone[33m:[39m [32m'13800138002'[39m[33m,[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[16/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /users/bind-phone[2m > [22måº”è¯¥éªŒè¯éªŒè¯ç 
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/users.test.ts:[2m412:5[22m[39m
    [90m410| [39m    })[33m;[39m
    [90m411| [39m
    [90m412| [39m    [34mit[39m([32m'åº”è¯¥éªŒè¯éªŒè¯ç '[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m413| [39m      [35mconst[39m phoneData [33m=[39m {
    [90m414| [39m        phone[33m:[39m [32m'13800138003'[39m[33m,[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[17/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /users/bind-phone[2m > [22mé‡å¤ç»‘å®šåº”è¯¥è¿”å›é”™è¯¯
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/users.test.ts:[2m428:5[22m[39m
    [90m426| [39m    })[33m;[39m
    [90m427| [39m
    [90m428| [39m    [34mit[39m([32m'é‡å¤ç»‘å®šåº”è¯¥è¿”å›é”™è¯¯'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m429| [39m      [90m// å…ˆç»‘å®šä¸€æ¬¡[39m
    [90m430| [39m      [35mconst[39m phoneData [33m=[39m {

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[18/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/referrals[2m > [22mç”¨æˆ·åº”è¯¥æŸ¥çœ‹è‡ªå·±çš„æ¨èè®°å½•
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m457:10[22m[39m
    [90m455| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/referrals`[39m)
    [90m456| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mnormalUserToken[36m}[39m[32m`[39m)
    [90m457| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m458| [39m
    [90m459| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[19/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/referrals[2m > [22mç®¡ç†å‘˜åº”è¯¥æŸ¥çœ‹æ‰€æœ‰æ¨èè®°å½•
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m468:10[22m[39m
    [90m466| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/referrals`[39m)
    [90m467| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39madminToken[36m}[39m[32m`[39m)
    [90m468| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m469| [39m
    [90m470| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[20/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/notifications[2m > [22mç”¨æˆ·åº”è¯¥èƒ½å¤Ÿè·å–é€šçŸ¥åˆ—è¡¨
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/users.test.ts:[2m476:5[22m[39m
    [90m474| [39m
    [90m475| [39m  [34mdescribe[39m([32m'GET /users/notifications'[39m[33m,[39m () [33m=>[39m {
    [90m476| [39m    [34mit[39m([32m'ç”¨æˆ·åº”è¯¥èƒ½å¤Ÿè·å–é€šçŸ¥åˆ—è¡¨'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m477| [39m      [35mconst[39m response [33m=[39m [35mawait[39m [34mrequest[39m(app)
    [90m478| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/notifications`[39m)

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[21/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/notifications[2m > [22måº”è¯¥æ”¯æŒæŒ‰å·²è¯»çŠ¶æ€ç­›é€‰
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/users.test.ts:[2m489:5[22m[39m
    [90m487| [39m    })[33m;[39m
    [90m488| [39m
    [90m489| [39m    [34mit[39m([32m'åº”è¯¥æ”¯æŒæŒ‰å·²è¯»çŠ¶æ€ç­›é€‰'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m490| [39m      [35mconst[39m response [33m=[39m [35mawait[39m [34mrequest[39m(app)
    [90m491| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/notifications`[39m)

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[22/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mGET /users/notifications[2m > [22måº”è¯¥æ”¯æŒæŒ‰é€šçŸ¥ç±»å‹ç­›é€‰
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/users.test.ts:[2m499:5[22m[39m
    [90m497| [39m    })[33m;[39m
    [90m498| [39m
    [90m499| [39m    [34mit[39m([32m'åº”è¯¥æ”¯æŒæŒ‰é€šçŸ¥ç±»å‹ç­›é€‰'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m500| [39m      [35mconst[39m response [33m=[39m [35mawait[39m [34mrequest[39m(app)
    [90m501| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/users/notifications`[39m)

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[23/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mPUT /users/notifications/:id/read[2m > [22måº”è¯¥èƒ½å¤Ÿæ ‡è®°é€šçŸ¥ä¸ºå·²è¯»
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m547:10[22m[39m
    [90m545| [39m        [33m.[39m[35mset[39m([32m'Content-Type'[39m[33m,[39m [32m'application/json'[39m)
    [90m546| [39m        [33m.[39m[34msend[39m({})
    [90m547| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m548| [39m
    [90m549| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[24/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mPUT /users/notifications/:id/read[2m > [22mä¸å­˜åœ¨çš„é€šçŸ¥IDåº”è¿”å›404
[31m[1mError[22m: expected 404 "Not Found", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/users.test.ts:[2m560:10[22m[39m
    [90m558| [39m        [33m.[39m[35mset[39m([32m'Content-Type'[39m[33m,[39m [32m'application/json'[39m)
    [90m559| [39m        [33m.[39m[34msend[39m({})
    [90m560| [39m        [33m.[39m[34mexpect[39m([34m404[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m561| [39m
    [90m562| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[25/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /users/verify-kyc[2m > [22måº”è¯¥èƒ½å¤Ÿæäº¤KYCç”³è¯·
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/users.test.ts:[2m567:5[22m[39m
    [90m565| [39m
    [90m566| [39m  [34mdescribe[39m([32m'POST /users/verify-kyc'[39m[33m,[39m () [33m=>[39m {
    [90m567| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤Ÿæäº¤KYCç”³è¯·'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m568| [39m      [35mconst[39m kycData [33m=[39m {
    [90m569| [39m        realName[33m:[39m [32m'æµ‹è¯•ç”¨æˆ·'[39m[33m,[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[26/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /users/verify-kyc[2m > [22måº”è¯¥éªŒè¯å¿…å¡«å­—æ®µ
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/users.test.ts:[2m586:5[22m[39m
    [90m584| [39m    })[33m;[39m
    [90m585| [39m
    [90m586| [39m    [34mit[39m([32m'åº”è¯¥éªŒè¯å¿…å¡«å­—æ®µ'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m587| [39m      [35mconst[39m kycData [33m=[39m {
    [90m588| [39m        realName[33m:[39m [32m''[39m[33m,[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[27/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/users.test.ts[2m > [22mç”¨æˆ·ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /users/verify-kyc[2m > [22må·²é€šè¿‡KYCçš„ç”¨æˆ·ä¸èƒ½é‡å¤ç”³è¯·
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/users.test.ts:[2m604:5[22m[39m
    [90m602| [39m    })[33m;[39m
    [90m603| [39m
    [90m604| [39m    [34mit[39m([32m'å·²é€šè¿‡KYCçš„ç”¨æˆ·ä¸èƒ½é‡å¤ç”³è¯·'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m605| [39m      [90m// å…ˆé€šè¿‡KYC[39m
    [90m606| [39m      [35mconst[39m kycData [33m=[39m {

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[28/30]â¯[22m[39m


                        <br><em>å»ºè®®: æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œè”ç³»ç›¸å…³å¼€å‘äººå‘˜</em>
                    </li>
                
                    <li>
                        <strong>å•†åŸç®¡ç†ç³»ç»Ÿ - shops.test.ts</strong>: Command failed: npm test tests/api/shops.test.ts

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 14 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mPOST /shops[2m > [22mVIPç”¨æˆ·åº”è¯¥èƒ½å¤Ÿåˆ›å»ºäº‘åº—
[31m[1mError[22m: expected 201 "Created", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m81:10[22m[39m
    [90m 79| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mvipUserToken[36m}[39m[32m`[39m)
    [90m 80| [39m        [33m.[39m[34msend[39m(shopData)
    [90m 81| [39m        [33m.[39m[34mexpect[39m([34m201[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 82| [39m
    [90m 83| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/14]â¯[22m[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mPOST /shops[2m > [22mæ™®é€šç”¨æˆ·ä¸èƒ½åˆ›å»ºäº‘åº—
[31m[1mError[22m: expected 403 "Forbidden", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m101:10[22m[39m
    [90m 99| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mnormalUserToken[36m}[39m[32m`[39m)
    [90m100| [39m        [33m.[39m[34msend[39m(shopData)
    [90m101| [39m        [33m.[39m[34mexpect[39m([34m403[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m102| [39m
    [90m103| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/14]â¯[22m[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mPOST /shops[2m > [22mäºŒæ˜Ÿåº—é•¿åº”è¯¥èƒ½å¤Ÿåˆ›å»ºäº”é€šåº—
[31m[1mError[22m: expected 201 "Created", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m122:10[22m[39m
    [90m120| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mstar2User[33m.[39mtokens[33m.[39maccessToken[36m}[39m[32m`[39m)
    [90m121| [39m        [33m.[39m[34msend[39m(shopData)
    [90m122| [39m        [33m.[39m[34mexpect[39m([34m201[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m123| [39m
    [90m124| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/14]â¯[22m[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mGET /shops[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–åº—é“ºåˆ—è¡¨
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m146:10[22m[39m
    [90m144| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mvipUserToken[36m}[39m[32m`[39m)
    [90m145| [39m        [33m.[39m[34mquery[39m({ page[33m:[39m [34m1[39m[33m,[39m perPage[33m:[39m [34m10[39m })
    [90m146| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m147| [39m
    [90m148| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/14]â¯[22m[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mGET /shops[2m > [22måº”è¯¥æ”¯æŒæŒ‰åº—é“ºç±»å‹ç­›é€‰
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m163:10[22m[39m
    [90m161| [39m          shopType[33m:[39m [32m'CLOUD'[39m
    [90m162| [39m        })
    [90m163| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m164| [39m
    [90m165| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/14]â¯[22m[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mGET /shops[2m > [22måº”è¯¥æ”¯æŒæŒ‰çŠ¶æ€ç­›é€‰
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m182:10[22m[39m
    [90m180| [39m          status[33m:[39m [32m'ACTIVE'[39m
    [90m181| [39m        })
    [90m182| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m183| [39m
    [90m184| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/14]â¯[22m[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mGET /shops[2m > [22måº”è¯¥æ”¯æŒæœç´¢åº—é“ºåç§°
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m196:10[22m[39m
    [90m194| [39m          search[33m:[39m [32m'æµ‹è¯•'[39m
    [90m195| [39m        })
    [90m196| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m197| [39m
    [90m198| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/14]â¯[22m[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mGET /shops/:id[2m > [22mä¸å­˜åœ¨çš„åº—é“ºIDåº”è¿”å›404
[31m[1mError[22m: expected 404 "Not Found", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m224:10[22m[39m
    [90m222| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/shops/[39m[36m${[39mfakeId[36m}[39m[32m`[39m)
    [90m223| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mvipUserToken[36m}[39m[32m`[39m)
    [90m224| [39m        [33m.[39m[34mexpect[39m([34m404[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m225| [39m
    [90m226| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/14]â¯[22m[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mPOST /shops/:id/upgrade[2m > [22måº”è¯¥èƒ½å¤Ÿç”³è¯·åº—é“ºå‡çº§
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'id')[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m297:45[22m[39m
    [90m295| [39m        })[33m;[39m
    [90m296| [39m
    [90m297| [39m      [35mconst[39m shopId [33m=[39m shopResponse[33m.[39mbody[33m.[39mdata[33m.[39mid[33m;[39m
    [90m   | [39m                                            [31m^[39m
    [90m298| [39m
    [90m299| [39m      [35mconst[39m upgradeData [33m=[39m {

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/14]â¯[22m[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mPOST /shops/:id/upgrade[2m > [22måº”è¯¥éªŒè¯å‡çº§æ¡ä»¶
[31m[1mError[22m: expected 400 "Bad Request", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m325:10[22m[39m
    [90m323| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mvipUserToken[36m}[39m[32m`[39m)
    [90m324| [39m        [33m.[39m[34msend[39m(upgradeData)
    [90m325| [39m        [33m.[39m[34mexpect[39m([34m400[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m326| [39m
    [90m327| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[10/14]â¯[22m[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mPOST /shops/wutong/claim-gift[2m > [22mäº”é€šåº—ç”¨æˆ·åº”è¯¥èƒ½å¤Ÿç”³è¯·èµ å“
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m418:10[22m[39m
    [90m416| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mstar2User[33m.[39mtokens[33m.[39maccessToken[36m}[39m[32m`[39m)
    [90m417| [39m        [33m.[39m[34msend[39m(orderData)
    [90m418| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m419| [39m
    [90m420| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[11/14]â¯[22m[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mPOST /shops/wutong/claim-gift[2m > [22måº”è¯¥éªŒè¯èµ å“ç”³è¯·æ¡ä»¶
[31m[1mError[22m: expected 403 "Forbidden", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m434:10[22m[39m
    [90m432| [39m          ]
    [90m433| [39m        })
    [90m434| [39m        [33m.[39m[34mexpect[39m([34m403[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m435| [39m
    [90m436| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[12/14]â¯[22m[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mGET /shops/my[2m > [22mç”¨æˆ·åº”è¯¥èƒ½å¤ŸæŸ¥çœ‹è‡ªå·±çš„åº—é“º
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m504:10[22m[39m
    [90m502| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/shops/my`[39m)
    [90m503| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mvipUserToken[36m}[39m[32m`[39m)
    [90m504| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m505| [39m
    [90m506| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[13/14]â¯[22m[39m

[41m[1m FAIL [22m[49m api/shops.test.ts[2m > [22måº—é“ºç®¡ç†APIæµ‹è¯•[2m > [22mGET /shops/my[2m > [22mæ²¡æœ‰åº—é“ºçš„ç”¨æˆ·åº”è¯¥è¿”å›ç©ºåˆ—è¡¨
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/shops.test.ts:[2m517:10[22m[39m
    [90m515| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/shops/my`[39m)
    [90m516| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mnewUser[33m.[39mtokens[33m.[39maccessToken[36m}[39m[32m`[39m)
    [90m517| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m518| [39m
    [90m519| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[14/14]â¯[22m[39m


                        <br><em>å»ºè®®: æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œè”ç³»ç›¸å…³å¼€å‘äººå‘˜</em>
                    </li>
                
                    <li>
                        <strong>å•†å“ç®¡ç†ç³»ç»Ÿ - products.test.ts</strong>: Command failed: npm test tests/api/products.test.ts

[31mâ¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 9 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m api/products.test.ts[2m > [22må•†å“ç®¡ç†APIæµ‹è¯• - ç®€åŒ–ç‰ˆ[2m > [22må•†å“åˆ†ç±»API[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–å•†å“åˆ†ç±»æ ‘
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/products.test.ts:[2m35:10[22m[39m
    [90m 33| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/products/categories/tree`[39m)
    [90m 34| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mnormalUserToken[36m}[39m[32m`[39m)
    [90m 35| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 36| [39m
    [90m 37| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/9]â¯[22m[39m

[41m[1m FAIL [22m[49m api/products.test.ts[2m > [22må•†å“ç®¡ç†APIæµ‹è¯• - ç®€åŒ–ç‰ˆ[2m > [22må•†å“åˆ†ç±»API[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–å•†å“åˆ†ç±»åˆ—è¡¨
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/products.test.ts:[2m47:10[22m[39m
    [90m 45| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mnormalUserToken[36m}[39m[32m`[39m)
    [90m 46| [39m        [33m.[39m[34mquery[39m({ page[33m:[39m [34m1[39m[33m,[39m perPage[33m:[39m [34m10[39m })
    [90m 47| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 48| [39m
    [90m 49| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/9]â¯[22m[39m

[41m[1m FAIL [22m[49m api/products.test.ts[2m > [22må•†å“ç®¡ç†APIæµ‹è¯• - ç®€åŒ–ç‰ˆ[2m > [22må•†å“åˆ†ç±»API[2m > [22måº”è¯¥èƒ½å¤ŸæŒ‰çº§åˆ«ç­›é€‰å•†å“åˆ†ç±»
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/products.test.ts:[2m56:10[22m[39m
    [90m 54| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤ŸæŒ‰çº§åˆ«ç­›é€‰å•†å“åˆ†ç±»'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m 55| [39m      const response = await makeAuthenticatedRequest('GET', `${API_BAâ€¦
    [90m 56| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 57| [39m
    [90m 58| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/9]â¯[22m[39m

[41m[1m FAIL [22m[49m api/products.test.ts[2m > [22må•†å“ç®¡ç†APIæµ‹è¯• - ç®€åŒ–ç‰ˆ[2m > [22må•†å“æ ‡ç­¾API[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–å•†å“æ ‡ç­¾åˆ—è¡¨
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/products.test.ts:[2m66:10[22m[39m
    [90m 64| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤Ÿè·å–å•†å“æ ‡ç­¾åˆ—è¡¨'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m 65| [39m      const response = await makeAuthenticatedRequest('GET', `${API_BAâ€¦
    [90m 66| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 67| [39m
    [90m 68| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/9]â¯[22m[39m

[41m[1m FAIL [22m[49m api/products.test.ts[2m > [22må•†å“ç®¡ç†APIæµ‹è¯• - ç®€åŒ–ç‰ˆ[2m > [22må•†å“æ ‡ç­¾API[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–æ‰€æœ‰å•†å“æ ‡ç­¾
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/products.test.ts:[2m75:10[22m[39m
    [90m 73| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤Ÿè·å–æ‰€æœ‰å•†å“æ ‡ç­¾'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m 74| [39m      const response = await makeAuthenticatedRequest('GET', `${API_BAâ€¦
    [90m 75| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 76| [39m
    [90m 77| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/9]â¯[22m[39m

[41m[1m FAIL [22m[49m api/products.test.ts[2m > [22må•†å“ç®¡ç†APIæµ‹è¯• - ç®€åŒ–ç‰ˆ[2m > [22må•†å“æ ‡ç­¾API[2m > [22måº”è¯¥èƒ½å¤Ÿåˆ›å»ºæ–°çš„å•†å“æ ‡ç­¾
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/products.test.ts:[2m90:10[22m[39m
    [90m 88| [39m      const response = await makeAdminRequest('POST', `${API_BASE}/proâ€¦
    [90m 89| [39m        [33m.[39m[34msend[39m(tagData)
    [90m 90| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 91| [39m
    [90m 92| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/9]â¯[22m[39m

[41m[1m FAIL [22m[49m api/products.test.ts[2m > [22må•†å“ç®¡ç†APIæµ‹è¯• - ç®€åŒ–ç‰ˆ[2m > [22må•†å“åˆ—è¡¨API[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–å•†å“åˆ—è¡¨
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/products.test.ts:[2m100:10[22m[39m
    [90m 98| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤Ÿè·å–å•†å“åˆ—è¡¨'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m 99| [39m      const response = await makeAuthenticatedRequest('GET', `${API_BAâ€¦
    [90m100| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m101| [39m
    [90m102| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/9]â¯[22m[39m

[41m[1m FAIL [22m[49m api/products.test.ts[2m > [22må•†å“ç®¡ç†APIæµ‹è¯• - ç®€åŒ–ç‰ˆ[2m > [22må•†å“åˆ—è¡¨API[2m > [22måº”è¯¥èƒ½å¤ŸæŒ‰çŠ¶æ€ç­›é€‰å•†å“
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/products.test.ts:[2m109:10[22m[39m
    [90m107| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤ŸæŒ‰çŠ¶æ€ç­›é€‰å•†å“'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m108| [39m      const response = await makeAuthenticatedRequest('GET', `${API_BAâ€¦
    [90m109| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m110| [39m
    [90m111| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/9]â¯[22m[39m

[41m[1m FAIL [22m[49m api/products.test.ts[2m > [22må•†å“ç®¡ç†APIæµ‹è¯• - ç®€åŒ–ç‰ˆ[2m > [22må•†å“è§„æ ¼API[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–å•†å“è§„æ ¼åˆ—è¡¨
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/products.test.ts:[2m118:10[22m[39m
    [90m116| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤Ÿè·å–å•†å“è§„æ ¼åˆ—è¡¨'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m117| [39m      const response = await makeAuthenticatedRequest('GET', `${API_BAâ€¦
    [90m118| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m119| [39m
    [90m120| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/9]â¯[22m[39m


                        <br><em>å»ºè®®: æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œè”ç³»ç›¸å…³å¼€å‘äººå‘˜</em>
                    </li>
                
                    <li>
                        <strong>è®¢å•ç®¡ç†ç³»ç»Ÿ - orders.test.ts</strong>: Command failed: npm test tests/api/orders.test.ts

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 20 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mGET /orders[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–è®¢å•æ¨¡å—ä¿¡æ¯
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m31:10[22m[39m
    [90m 29| [39m      [35mconst[39m response [33m=[39m [35mawait[39m [34mrequest[39m(app)
    [90m 30| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/orders`[39m)
    [90m 31| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 32| [39m
    [90m 33| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mGET /orders[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–è®¢å•åˆ—è¡¨
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m46:10[22m[39m
    [90m 44| [39m          perPage[33m:[39m [34m10[39m
    [90m 45| [39m        })
    [90m 46| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 47| [39m
    [90m 48| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mGET /orders[2m > [22måº”è¯¥èƒ½å¤ŸæŒ‰çŠ¶æ€ç­›é€‰è®¢å•
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m65:10[22m[39m
    [90m 63| [39m          status[33m:[39m [32m'PENDING'[39m
    [90m 64| [39m        })
    [90m 65| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 66| [39m
    [90m 67| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mGET /orders[2m > [22måº”è¯¥èƒ½å¤ŸæŒ‰æ”¯ä»˜çŠ¶æ€ç­›é€‰è®¢å•
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m84:10[22m[39m
    [90m 82| [39m          paymentStatus[33m:[39m [32m'UNPAID'[39m
    [90m 83| [39m        })
    [90m 84| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 85| [39m
    [90m 86| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mGET /orders[2m > [22måº”è¯¥èƒ½å¤ŸæŒ‰æ—¶é—´èŒƒå›´ç­›é€‰è®¢å•
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m103:10[22m[39m
    [90m101| [39m          endDate[33m:[39m endDate[33m.[39m[34mtoISOString[39m()
    [90m102| [39m        })
    [90m103| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m104| [39m
    [90m105| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /orders[2m > [22måº”è¯¥èƒ½å¤Ÿåˆ›å»ºæ–°è®¢å•
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m128:10[22m[39m
    [90m126| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m127| [39m        [33m.[39m[34msend[39m(orderData)
    [90m128| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m129| [39m
    [90m130| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /orders[2m > [22måº”è¯¥æ‹’ç»ç©ºçš„è®¢å•é¡¹
[31m[1mError[22m: expected 400 "Bad Request", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m152:10[22m[39m
    [90m150| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m151| [39m        [33m.[39m[34msend[39m(orderData)
    [90m152| [39m        [33m.[39m[34mexpect[39m([34m400[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m153| [39m
    [90m154| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /orders[2m > [22måº”è¯¥æ‹’ç»æ— æ•ˆçš„æ”¯ä»˜æ–¹å¼
[31m[1mError[22m: expected 400 "Bad Request", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m175:10[22m[39m
    [90m173| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m174| [39m        [33m.[39m[34msend[39m(orderData)
    [90m175| [39m        [33m.[39m[34mexpect[39m([34m400[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m176| [39m
    [90m177| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /orders[2m > [22måº”è¯¥æ‹’ç»æ•°é‡ä¸º0çš„å•†å“
[31m[1mError[22m: expected 400 "Bad Request", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m197:10[22m[39m
    [90m195| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m196| [39m        [33m.[39m[34msend[39m(orderData)
    [90m197| [39m        [33m.[39m[34mexpect[39m([34m400[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m198| [39m
    [90m199| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mGET /orders/:orderId[2m > [22måº”è¯¥è¿”å›404å½“è®¢å•ä¸å­˜åœ¨
[31m[1mError[22m: expected 404 "Not Found", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m230:10[22m[39m
    [90m228| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/orders/[39m[36m${[39mfakeOrderId[36m}[39m[32m`[39m)
    [90m229| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m230| [39m        [33m.[39m[34mexpect[39m([34m404[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m231| [39m
    [90m232| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[10/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mPUT /orders/:orderId/confirm[2m > [22måº”è¯¥æ‹’ç»ç¡®è®¤å·²å–æ¶ˆçš„è®¢å•
[31m[1mError[22m: expected 400 "Bad Request", got 415 "Unsupported Media Type"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m273:10[22m[39m
    [90m271| [39m        [33m.[39m[34mput[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/orders/[39m[36m${[39mcancelledOrderId[36m}[39m[32m/confirm`[39m)
    [90m272| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m273| [39m        [33m.[39m[34mexpect[39m([34m400[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m274| [39m
    [90m275| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[11/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mPUT /orders/:orderId/cancel[2m > [22måº”è¯¥èƒ½å¤Ÿå–æ¶ˆè®¢å•
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m299:10[22m[39m
    [90m297| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m298| [39m        [33m.[39m[34msend[39m(orderData)
    [90m299| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m300| [39m
    [90m301| [39m      [35mconst[39m cancelResponse [33m=[39m [35mawait[39m [34mrequest[39m(app)
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[12/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mPUT /orders/:orderId/cancel[2m > [22måº”è¯¥æ‹’ç»å–æ¶ˆå·²å®Œæˆçš„è®¢å•
[31m[1mError[22m: expected 400 "Bad Request", got 415 "Unsupported Media Type"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m316:10[22m[39m
    [90m314| [39m        [33m.[39m[34mput[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/orders/[39m[36m${[39mcompletedOrderId[36m}[39m[32m/cancel`[39m)
    [90m315| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m316| [39m        [33m.[39m[34mexpect[39m([34m400[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m317| [39m
    [90m318| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[13/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mPUT /orders/:orderId/cancel[2m > [22måº”è¯¥æä¾›å–æ¶ˆåŸå› 
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m339:10[22m[39m
    [90m337| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m338| [39m        [33m.[39m[34msend[39m(orderData)
    [90m339| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m340| [39m
    [90m341| [39m      [35mconst[39m cancelResponse [33m=[39m [35mawait[39m [34mrequest[39m(app)
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[14/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mè®¢å•ç»Ÿè®¡API[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–è®¢å•ç»Ÿè®¡ä¿¡æ¯
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m358:10[22m[39m
    [90m356| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/orders/statistics`[39m)
    [90m357| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m358| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m359| [39m
    [90m360| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[15/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mè®¢å•ç»Ÿè®¡API[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–è®¢å•ç»Ÿè®¡æ¦‚è§ˆ
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m374:10[22m[39m
    [90m372| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/orders/statistics/overview`[39m)
    [90m373| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m374| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m375| [39m
    [90m376| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[16/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mè®¢å•ç»Ÿè®¡API[2m > [22måº”è¯¥èƒ½å¤ŸæŒ‰æ—¶é—´èŒƒå›´è·å–ç»Ÿè®¡
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m391:10[22m[39m
    [90m389| [39m          endDate[33m:[39m [35mnew[39m [33mDate[39m()[33m.[39m[34mtoISOString[39m()
    [90m390| [39m        })
    [90m391| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m392| [39m
    [90m393| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[17/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mæ¢è´§ç”³è¯· API[2m > [22måº”è¯¥æ‹’ç»æ— æ•ˆçš„æ¢è´§ç”³è¯·
[31m[1mError[22m: expected 400 "Bad Request", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m439:10[22m[39m
    [90m437| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m438| [39m        [33m.[39m[34msend[39m(exchangeData)
    [90m439| [39m        [33m.[39m[34mexpect[39m([34m400[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m440| [39m
    [90m441| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[18/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mè®¢å•æƒé™å’Œå®‰å…¨æµ‹è¯•[2m > [22måº”è¯¥é˜»æ­¢ç”¨æˆ·è®¿é—®å…¶ä»–ç”¨æˆ·çš„è®¢å•
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m464:10[22m[39m
    [90m462| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m463| [39m        [33m.[39m[34msend[39m(orderData)
    [90m464| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m465| [39m
    [90m466| [39m      [90m// ä½¿ç”¨ä¸åŒçš„tokenå°è¯•è®¿é—®[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[19/20]â¯[22m[39m

[41m[1m FAIL [22m[49m api/orders.test.ts[2m > [22mè®¢å•ç®¡ç†APIæµ‹è¯•[2m > [22mè®¢å•æƒé™å’Œå®‰å…¨æµ‹è¯•[2m > [22måº”è¯¥éªŒè¯è®¢å•é‡‘é¢çš„æ­£ç¡®æ€§
[31m[1mError[22m: expected 200 "OK", got 401 "Unauthorized"[39m
[36m [2mâ¯[22m api/orders.test.ts:[2m500:10[22m[39m
    [90m498| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m499| [39m        [33m.[39m[34msend[39m(orderData)
    [90m500| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m501| [39m
    [90m502| [39m      [35mconst[39m expectedTotal [33m=[39m ([34m2[39m [33m*[39m [34m100.00[39m) [33m+[39m ([34m3[39m [33m*[39m [34m50.00[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[20/20]â¯[22m[39m


                        <br><em>å»ºè®®: æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œè”ç³»ç›¸å…³å¼€å‘äººå‘˜</em>
                    </li>
                
                    <li>
                        <strong>ç§¯åˆ†ç³»ç»Ÿ - points.test.ts</strong>: Command failed: npm test tests/api/points.test.ts

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 18 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mGET /points/balance[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–ç§¯åˆ†ä½™é¢
[31m[1mError[22m: expected 200 "OK", got 400 "Bad Request"[39m
[36m [2mâ¯[22m api/points.test.ts:[2m46:10[22m[39m
    [90m 44| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/points/balance`[39m)
    [90m 45| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m 46| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 47| [39m
    [90m 48| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mPOST /points/transfer[2m > [22måº”è¯¥èƒ½å¤Ÿè¿›è¡Œç§¯åˆ†è½¬è´¦
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m66:5[22m[39m
    [90m 64| [39m
    [90m 65| [39m  [34mdescribe[39m([32m'POST /points/transfer'[39m[33m,[39m () [33m=>[39m {
    [90m 66| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤Ÿè¿›è¡Œç§¯åˆ†è½¬è´¦'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m 67| [39m      [35mconst[39m transferData [33m=[39m {
    [90m 68| [39m        toUserId[33m:[39m adminUser[33m.[39mid[33m,[39m [90m// ä½¿ç”¨çœŸå®çš„ç®¡ç†å‘˜ç”¨æˆ·ID[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mPOST /points/transfer[2m > [22måº”è¯¥æ‹’ç»è´Ÿé‡‘é¢è½¬è´¦
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m86:5[22m[39m
    [90m 84| [39m    })[33m;[39m
    [90m 85| [39m
    [90m 86| [39m    [34mit[39m([32m'åº”è¯¥æ‹’ç»è´Ÿé‡‘é¢è½¬è´¦'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m 87| [39m      [35mconst[39m transferData [33m=[39m {
    [90m 88| [39m        toUserId[33m:[39m [32m'test_recipient_user_12345'[39m[33m,[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mPOST /points/transfer[2m > [22måº”è¯¥æ‹’ç»è½¬è´¦ç»™è‡ªå·±
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m103:5[22m[39m
    [90m101| [39m    })[33m;[39m
    [90m102| [39m
    [90m103| [39m    [34mit[39m([32m'åº”è¯¥æ‹’ç»è½¬è´¦ç»™è‡ªå·±'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m104| [39m      [35mconst[39m transferData [33m=[39m {
    [90m105| [39m        toUserId[33m:[39m testUserId[33m,[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mPOST /points/transfer[2m > [22måº”è¯¥æ‹’ç»ä½™é¢ä¸è¶³çš„è½¬è´¦
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m119:5[22m[39m
    [90m117| [39m    })[33m;[39m
    [90m118| [39m
    [90m119| [39m    [34mit[39m([32m'åº”è¯¥æ‹’ç»ä½™é¢ä¸è¶³çš„è½¬è´¦'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m120| [39m      [35mconst[39m transferData [33m=[39m {
    [90m121| [39m        toUserId[33m:[39m [32m'test_recipient_user_12345'[39m[33m,[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mGET /points/transactions[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–ç§¯åˆ†æµæ°´è®°å½•
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m138:5[22m[39m
    [90m136| [39m
    [90m137| [39m  [34mdescribe[39m([32m'GET /points/transactions'[39m[33m,[39m () [33m=>[39m {
    [90m138| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤Ÿè·å–ç§¯åˆ†æµæ°´è®°å½•'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m139| [39m      [35mconst[39m response [33m=[39m [35mawait[39m [34mrequest[39m(app)
    [90m140| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/points/transactions`[39m)

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mGET /points/transactions[2m > [22måº”è¯¥èƒ½å¤ŸæŒ‰äº¤æ˜“ç±»å‹ç­›é€‰æµæ°´è®°å½•
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m166:5[22m[39m
    [90m164| [39m    })[33m;[39m
    [90m165| [39m
    [90m166| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤ŸæŒ‰äº¤æ˜“ç±»å‹ç­›é€‰æµæ°´è®°å½•'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m167| [39m      [35mconst[39m response [33m=[39m [35mawait[39m [34mrequest[39m(app)
    [90m168| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/points/transactions`[39m)

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mGET /points/transactions[2m > [22måº”è¯¥èƒ½å¤ŸæŒ‰æ—¶é—´èŒƒå›´ç­›é€‰æµæ°´è®°å½•
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m185:5[22m[39m
    [90m183| [39m    })[33m;[39m
    [90m184| [39m
    [90m185| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤ŸæŒ‰æ—¶é—´èŒƒå›´ç­›é€‰æµæ°´è®°å½•'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m186| [39m      [35mconst[39m endDate [33m=[39m [35mnew[39m [33mDate[39m()[33m;[39m
    [90m187| [39m      [35mconst[39m startDate [33m=[39m [35mnew[39m [33mDate[39m()[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mGET /points/statistics[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–ç§¯åˆ†ç»Ÿè®¡ä¿¡æ¯
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/points.test.ts:[2m210:10[22m[39m
    [90m208| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/points/statistics`[39m)
    [90m209| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39muserToken[36m}[39m[32m`[39m)
    [90m210| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m211| [39m
    [90m212| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mGET /points/statistics[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–æŒ‡å®šæ—¶é—´èŒƒå›´çš„ç»Ÿè®¡
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/points.test.ts:[2m229:10[22m[39m
    [90m227| [39m          period[33m:[39m [32m'month'[39m [90m// æœ€è¿‘ä¸€ä¸ªæœˆ[39m
    [90m228| [39m        })
    [90m229| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m230| [39m
    [90m231| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[10/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mPOST /points/recharge (ç®¡ç†å‘˜)[2m > [22måº”è¯¥èƒ½å¤Ÿä¸ºç”¨æˆ·å……å€¼ç§¯åˆ†ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m236:5[22m[39m
    [90m234| [39m
    [90m235| [39m  [34mdescribe[39m([32m'POST /points/recharge (ç®¡ç†å‘˜)'[39m[33m,[39m () [33m=>[39m {
    [90m236| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤Ÿä¸ºç”¨æˆ·å……å€¼ç§¯åˆ†ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m237| [39m      [35mconst[39m rechargeData [33m=[39m {
    [90m238| [39m        userId[33m:[39m testUserId[33m,[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[11/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mPOST /points/recharge (ç®¡ç†å‘˜)[2m > [22måº”è¯¥æ‹’ç»è´Ÿæ•°å……å€¼
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m273:5[22m[39m
    [90m271| [39m    })[33m;[39m
    [90m272| [39m
    [90m273| [39m    [34mit[39m([32m'åº”è¯¥æ‹’ç»è´Ÿæ•°å……å€¼'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m274| [39m      [35mconst[39m rechargeData [33m=[39m {
    [90m275| [39m        userId[33m:[39m testUserId[33m,[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[12/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mPOST /points/freeze (ç®¡ç†å‘˜)[2m > [22måº”è¯¥èƒ½å¤Ÿå†»ç»“ç”¨æˆ·ç§¯åˆ†ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m291:5[22m[39m
    [90m289| [39m
    [90m290| [39m  [34mdescribe[39m([32m'POST /points/freeze (ç®¡ç†å‘˜)'[39m[33m,[39m () [33m=>[39m {
    [90m291| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤Ÿå†»ç»“ç”¨æˆ·ç§¯åˆ†ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m292| [39m      [35mconst[39m freezeData [33m=[39m {
    [90m293| [39m        userId[33m:[39m testUserId[33m,[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[13/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mPOST /points/freeze (ç®¡ç†å‘˜)[2m > [22måº”è¯¥èƒ½å¤Ÿè§£å†»ç”¨æˆ·ç§¯åˆ†ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m309:5[22m[39m
    [90m307| [39m    })[33m;[39m
    [90m308| [39m
    [90m309| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤Ÿè§£å†»ç”¨æˆ·ç§¯åˆ†ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m310| [39m      [35mconst[39m freezeData [33m=[39m {
    [90m311| [39m        userId[33m:[39m testUserId[33m,[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[14/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mPOST /points/batch-recharge (ç®¡ç†å‘˜)[2m > [22måº”è¯¥èƒ½å¤Ÿæ‰¹é‡å……å€¼ç§¯åˆ†ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m328:5[22m[39m
    [90m326| [39m
    [90m327| [39m  [34mdescribe[39m([32m'POST /points/batch-recharge (ç®¡ç†å‘˜)'[39m[33m,[39m () [33m=>[39m {
    [90m328| [39m    [34mit[39m([32m'åº”è¯¥èƒ½å¤Ÿæ‰¹é‡å……å€¼ç§¯åˆ†ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m329| [39m      [35mconst[39m batchRechargeData [33m=[39m {
    [90m330| [39m        operations[33m:[39m [

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[15/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mPOST /points/batch-recharge (ç®¡ç†å‘˜)[2m > [22måº”è¯¥å¤„ç†æ‰¹é‡å……å€¼ä¸­çš„éƒ¨åˆ†å¤±è´¥
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m357:5[22m[39m
    [90m355| [39m    })[33m;[39m
    [90m356| [39m
    [90m357| [39m    [34mit[39m([32m'åº”è¯¥å¤„ç†æ‰¹é‡å……å€¼ä¸­çš„éƒ¨åˆ†å¤±è´¥'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m358| [39m      [35mconst[39m batchRechargeData [33m=[39m {
    [90m359| [39m        operations[33m:[39m [

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[16/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mç§¯åˆ†è½¬è´¦é™åˆ¶å’Œå®‰å…¨æµ‹è¯•[2m > [22måº”è¯¥æœ‰å•æ—¥è½¬è´¦é‡‘é¢é™åˆ¶
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m386:5[22m[39m
    [90m384| [39m
    [90m385| [39m  [34mdescribe[39m([32m'ç§¯åˆ†è½¬è´¦é™åˆ¶å’Œå®‰å…¨æµ‹è¯•'[39m[33m,[39m () [33m=>[39m {
    [90m386| [39m    [34mit[39m([32m'åº”è¯¥æœ‰å•æ—¥è½¬è´¦é‡‘é¢é™åˆ¶'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m387| [39m      [90m// æµ‹è¯•å¤§é¢è½¬è´¦æ˜¯å¦è¢«é™åˆ¶[39m
    [90m388| [39m      [35mconst[39m largeAmount [33m=[39m [34m50000[39m[33m;[39m [90m// å‡è®¾æ—¥é™é¢æ˜¯10000[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[17/18]â¯[22m[39m

[41m[1m FAIL [22m[49m api/points.test.ts[2m > [22mç§¯åˆ†ç³»ç»ŸAPIæµ‹è¯•[2m > [22mç§¯åˆ†è½¬è´¦é™åˆ¶å’Œå®‰å…¨æµ‹è¯•[2m > [22måº”è¯¥æœ‰è½¬è´¦é¢‘ç‡é™åˆ¶
[31m[1mError[22m: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m api/points.test.ts:[2m407:5[22m[39m
    [90m405| [39m    })[33m;[39m
    [90m406| [39m
    [90m407| [39m    [34mit[39m([32m'åº”è¯¥æœ‰è½¬è´¦é¢‘ç‡é™åˆ¶'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m408| [39m      [35mconst[39m transferData [33m=[39m {
    [90m409| [39m        toUserId[33m:[39m [32m'test_recipient_user_12345'[39m[33m,[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[18/18]â¯[22m[39m


                        <br><em>å»ºè®®: æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œè”ç³»ç›¸å…³å¼€å‘äººå‘˜</em>
                    </li>
                
                    <li>
                        <strong>ä½£é‡‘ç³»ç»Ÿ - commission.test.ts</strong>: Command failed: npm test tests/api/commission.test.ts

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 30 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission[2m > [22mç”¨æˆ·åº”è¯¥èƒ½å¤ŸæŸ¥çœ‹è‡ªå·±çš„ä½£é‡‘è®°å½•
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m90:10[22m[39m
    [90m 88| [39m          perPage[33m:[39m [34m10[39m
    [90m 89| [39m        })
    [90m 90| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m 91| [39m
    [90m 92| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission[2m > [22måº”è¯¥æ”¯æŒæŒ‰çŠ¶æ€ç­›é€‰
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m108:10[22m[39m
    [90m106| [39m          status[33m:[39m [32m'PENDING'[39m
    [90m107| [39m        })
    [90m108| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m109| [39m
    [90m110| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission[2m > [22måº”è¯¥æ”¯æŒæŒ‰æ—¥æœŸèŒƒå›´ç­›é€‰
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m126:10[22m[39m
    [90m124| [39m          endDate[33m:[39m today[33m.[39m[34mtoISOString[39m()
    [90m125| [39m        })
    [90m126| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m127| [39m
    [90m128| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission[2m > [22mç®¡ç†å‘˜åº”è¯¥èƒ½æŸ¥çœ‹æ‰€æœ‰ä½£é‡‘è®°å½•
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m140:10[22m[39m
    [90m138| [39m          allUsers[33m:[39m [35mtrue[39m
    [90m139| [39m        })
    [90m140| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m141| [39m
    [90m142| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/summary[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–ä½£é‡‘æ±‡æ€»
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m151:10[22m[39m
    [90m149| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/commission/summary`[39m)
    [90m150| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mstarUserToken[36m}[39m[32m`[39m)
    [90m151| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m152| [39m
    [90m153| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/summary[2m > [22måº”è¯¥åŒ…å«ä½£é‡‘ç»Ÿè®¡å›¾è¡¨æ•°æ®
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m169:10[22m[39m
    [90m167| [39m          chart[33m:[39m [35mtrue[39m
    [90m168| [39m        })
    [90m169| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m170| [39m
    [90m171| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/:id[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–æŒ‡å®šä½£é‡‘è¯¦æƒ…
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m183:10[22m[39m
    [90m181| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/commission/[39m[36m${[39mtestCommissionId[36m}[39m[32m`[39m)
    [90m182| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mstarUserToken[36m}[39m[32m`[39m)
    [90m183| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m184| [39m
    [90m185| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/:id[2m > [22mä¸å­˜åœ¨çš„ä½£é‡‘IDåº”è¿”å›404
[31m[1mError[22m: expected 404 "Not Found", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m197:10[22m[39m
    [90m195| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/commission/[39m[36m${[39mfakeId[36m}[39m[32m`[39m)
    [90m196| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mstarUserToken[36m}[39m[32m`[39m)
    [90m197| [39m        [33m.[39m[34mexpect[39m([34m404[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m198| [39m
    [90m199| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/:id[2m > [22mä¸èƒ½æŸ¥çœ‹ä»–äººçš„ä½£é‡‘è¯¦æƒ…
[31m[1mError[22m: expected 403 "Forbidden", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m206:10[22m[39m
    [90m204| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/commission/[39m[36m${[39mtestCommissionId[36m}[39m[32m`[39m)
    [90m205| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mnormalUserToken[36m}[39m[32m`[39m)
    [90m206| [39m        [33m.[39m[34mexpect[39m([34m403[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m207| [39m
    [90m208| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /commission/calculate[2m > [22måº”è¯¥èƒ½å¤Ÿè®¡ç®—è®¢å•ä½£é‡‘
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m236:10[22m[39m
    [90m234| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mdirectorToken[36m}[39m[32m`[39m)
    [90m235| [39m        [33m.[39m[34msend[39m(calculateData)
    [90m236| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m237| [39m
    [90m238| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[10/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /commission/calculate[2m > [22måº”è¯¥éªŒè¯è®¢å•æ•°æ®
[31m[1mError[22m: expected 400 "Bad Request", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m254:10[22m[39m
    [90m252| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mdirectorToken[36m}[39m[32m`[39m)
    [90m253| [39m        [33m.[39m[34msend[39m(calculateData)
    [90m254| [39m        [33m.[39m[34mexpect[39m([34m400[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m255| [39m
    [90m256| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[11/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /commission/calculate[2m > [22mæ™®é€šç”¨æˆ·ä¸èƒ½è®¡ç®—ä½£é‡‘
[31m[1mError[22m: expected 403 "Forbidden", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m269:10[22m[39m
    [90m267| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mnormalUserToken[36m}[39m[32m`[39m)
    [90m268| [39m        [33m.[39m[34msend[39m(calculateData)
    [90m269| [39m        [33m.[39m[34mexpect[39m([34m403[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m270| [39m
    [90m271| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[12/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /commission/settle[2m > [22måº”è¯¥èƒ½å¤Ÿç»“ç®—ä½£é‡‘
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m303:10[22m[39m
    [90m301| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mdirectorToken[36m}[39m[32m`[39m)
    [90m302| [39m        [33m.[39m[34msend[39m(settleData)
    [90m303| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m304| [39m
    [90m305| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[13/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /commission/settle[2m > [22måº”è¯¥éªŒè¯ç»“ç®—æ¡ä»¶
[31m[1mError[22m: expected 400 "Bad Request", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m320:10[22m[39m
    [90m318| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mdirectorToken[36m}[39m[32m`[39m)
    [90m319| [39m        [33m.[39m[34msend[39m(settleData)
    [90m320| [39m        [33m.[39m[34mexpect[39m([34m400[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m321| [39m
    [90m322| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[14/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /commission/settle[2m > [22mæ™®é€šç”¨æˆ·ä¸èƒ½ç»“ç®—ä½£é‡‘
[31m[1mError[22m: expected 403 "Forbidden", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m332:10[22m[39m
    [90m330| [39m          commissionIds[33m:[39m [testCommissionId]
    [90m331| [39m        })
    [90m332| [39m        [33m.[39m[34mexpect[39m([34m403[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m333| [39m
    [90m334| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[15/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /commission/withdraw[2m > [22måº”è¯¥èƒ½å¤Ÿç”³è¯·ä½£é‡‘æç°
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m372:10[22m[39m
    [90m370| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mstarUser[33m.[39mtokens[33m.[39maccessToken[36m}[39m[32m`[39m)
    [90m371| [39m        [33m.[39m[34msend[39m(withdrawData)
    [90m372| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m373| [39m
    [90m374| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[16/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /commission/withdraw[2m > [22måº”è¯¥éªŒè¯æç°é‡‘é¢
[31m[1mError[22m: expected 400 "Bad Request", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m390:10[22m[39m
    [90m388| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mstarUserToken[36m}[39m[32m`[39m)
    [90m389| [39m        [33m.[39m[34msend[39m(withdrawData)
    [90m390| [39m        [33m.[39m[34mexpect[39m([34m400[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m391| [39m
    [90m392| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[17/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /commission/withdraw[2m > [22måº”è¯¥éªŒè¯æç°æ–¹å¼
[31m[1mError[22m: expected 400 "Bad Request", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m406:10[22m[39m
    [90m404| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mstarUserToken[36m}[39m[32m`[39m)
    [90m405| [39m        [33m.[39m[34msend[39m(withdrawData)
    [90m406| [39m        [33m.[39m[34mexpect[39m([34m400[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m407| [39m
    [90m408| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[18/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/withdrawals[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–æç°è®°å½•
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m421:10[22m[39m
    [90m419| [39m          perPage[33m:[39m [34m10[39m
    [90m420| [39m        })
    [90m421| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m422| [39m
    [90m423| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[19/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/withdrawals[2m > [22mç®¡ç†å‘˜åº”è¯¥èƒ½æŸ¥çœ‹æ‰€æœ‰æç°è®°å½•
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m443:10[22m[39m
    [90m441| [39m          allUsers[33m:[39m [35mtrue[39m
    [90m442| [39m        })
    [90m443| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m444| [39m
    [90m445| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[20/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/withdrawals[2m > [22måº”è¯¥æ”¯æŒæŒ‰çŠ¶æ€ç­›é€‰
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m457:10[22m[39m
    [90m455| [39m          status[33m:[39m [32m'PENDING'[39m
    [90m456| [39m        })
    [90m457| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m458| [39m
    [90m459| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[21/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /commission/withdrawals/:id/approve[2m > [22mç®¡ç†å‘˜åº”è¯¥èƒ½å¤Ÿæ‰¹å‡†æç°
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'withdrawId')[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m492:53[22m[39m
    [90m490| [39m        })[33m;[39m
    [90m491| [39m
    [90m492| [39m      [35mconst[39m withdrawId [33m=[39m withdrawResponse[33m.[39mbody[33m.[39mdata[33m.[39mwithdrawId[33m;[39m
    [90m   | [39m                                                    [31m^[39m
    [90m493| [39m
    [90m494| [39m      [90m// æ‰¹å‡†æç°[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[22/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /commission/withdrawals/:id/approve[2m > [22mæ™®é€šç”¨æˆ·ä¸èƒ½æ‰¹å‡†æç°
[31m[1mError[22m: expected 403 "Forbidden", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m515:10[22m[39m
    [90m513| [39m          remark[33m:[39m [32m'æˆ‘æ‰¹å‡†'[39m
    [90m514| [39m        })
    [90m515| [39m        [33m.[39m[34mexpect[39m([34m403[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m516| [39m
    [90m517| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[23/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mPOST /commission/withdrawals/:id/reject[2m > [22mç®¡ç†å‘˜åº”è¯¥èƒ½å¤Ÿæ‹’ç»æç°
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'withdrawId')[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m550:53[22m[39m
    [90m548| [39m        })[33m;[39m
    [90m549| [39m
    [90m550| [39m      [35mconst[39m withdrawId [33m=[39m withdrawResponse[33m.[39mbody[33m.[39mdata[33m.[39mwithdrawId[33m;[39m
    [90m   | [39m                                                    [31m^[39m
    [90m551| [39m
    [90m552| [39m      [90m// æ‹’ç»æç°[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[24/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/rules[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–ä½£é‡‘è§„åˆ™
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m571:10[22m[39m
    [90m569| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/commission/rules`[39m)
    [90m570| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mstarUserToken[36m}[39m[32m`[39m)
    [90m571| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m572| [39m
    [90m573| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[25/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/rules[2m > [22måº”è¯¥åŒ…å«ä¸åŒå±‚çº§çš„ä½£é‡‘è§„åˆ™
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m590:10[22m[39m
    [90m588| [39m          includeInactive[33m:[39m [35mtrue[39m
    [90m589| [39m        })
    [90m590| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m591| [39m
    [90m592| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[26/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/rates[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–å½“å‰ä½£é‡‘è´¹ç‡
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m601:10[22m[39m
    [90m599| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/commission/rates`[39m)
    [90m600| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mnormalUserToken[36m}[39m[32m`[39m)
    [90m601| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m602| [39m
    [90m603| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[27/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/rates[2m > [22mä¸åŒç”¨æˆ·çº§åˆ«åº”è¯¥æœ‰ä¸åŒçš„è´¹ç‡
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m612:10[22m[39m
    [90m610| [39m        [33m.[39m[35mget[39m([32m`[39m[36m${[39m[33mAPI_BASE[39m[36m}[39m[32m/commission/rates`[39m)
    [90m611| [39m        [33m.[39m[35mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer [39m[36m${[39mnormalUserToken[36m}[39m[32m`[39m)
    [90m612| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m613| [39m
    [90m614| [39m      [35mconst[39m starResponse [33m=[39m [35mawait[39m [34mrequest[39m(app)
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[28/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/statistics[2m > [22måº”è¯¥èƒ½å¤Ÿè·å–ä½£é‡‘ç»Ÿè®¡
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m632:10[22m[39m
    [90m630| [39m          period[33m:[39m [32m'month'[39m
    [90m631| [39m        })
    [90m632| [39m        [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m         [31m^[39m
    [90m633| [39m
    [90m634| [39m      [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[29/30]â¯[22m[39m

[41m[1m FAIL [22m[49m api/commission.test.ts[2m > [22mä½£é‡‘ç®¡ç†APIæµ‹è¯•[2m > [22mGET /commission/statistics[2m > [22måº”è¯¥æ”¯æŒä¸åŒæ—¶é—´å‘¨æœŸ
[31m[1mError[22m: expected 200 "OK", got 500 "Internal Server Error"[39m
[36m [2mâ¯[22m api/commission.test.ts:[2m650:12[22m[39m
    [90m648| [39m            period[33m:[39m period
    [90m649| [39m          })
    [90m650| [39m          [33m.[39m[34mexpect[39m([34m200[39m)[33m;[39m
    [90m   | [39m           [31m^[39m
    [90m651| [39m
    [90m652| [39m        [34mexpect[39m(response[33m.[39mbody[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
[90m [2mâ¯[22m Test._assertStatus ../node_modules/supertest/lib/test.js:[2m309:14[22m[39m
[90m [2mâ¯[22m ../node_modules/supertest/lib/test.js:[2m365:13[22m[39m
[90m [2mâ¯[22m Test._assertFunction ../node_modules/supertest/lib/test.js:[2m342:13[22m[39m
[90m [2mâ¯[22m Test.assert ../node_modules/supertest/lib/test.js:[2m195:23[22m[39m
[90m [2mâ¯[22m localAssert ../node_modules/supertest/lib/test.js:[2m138:14[22m[39m
[90m [2mâ¯[22m Server.<anonymous> ../node_modules/supertest/lib/test.js:[2m152:11[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[30/30]â¯[22m[39m


                        <br><em>å»ºè®®: æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œè”ç³»ç›¸å…³å¼€å‘äººå‘˜</em>
                    </li>
                
                    <li>
                        <strong>ç®¡ç†ç³»ç»Ÿ</strong>: Command failed: npm run test:admin

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m api/admin.test.ts[2m > [22mAdminåŸºç¡€åŠŸèƒ½æµ‹è¯•
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'ADMIN')[39m
[36m [2mâ¯[22m api/admin.test.ts:[2m15:57[22m[39m
    [90m 13| [39m
    [90m 14| [39m    [90m// åˆ›å»ºAdminç”¨æˆ·[39m
    [90m 15| [39m    [35mconst[39m adminUser [33m=[39m [35mawait[39m [34mcreateTestUser[39m([33mTestUserType[39m[33m.[39m[33mADMIN[39m)[33m;[39m
    [90m   | [39m                                                        [31m^[39m
    [90m 16| [39m    adminHeaders [33m=[39m [34mgetAuthHeaders[39m(adminUser[33m.[39mtoken)[33m;[39m
    [90m 17| [39m  })[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯[22m[39m


                        <br><em>å»ºè®®: æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œè”ç³»ç›¸å…³å¼€å‘äººå‘˜</em>
                    </li>
                
                    <li>
                        <strong>å®‰å…¨æµ‹è¯•</strong>: Command failed: npm run test:security
[31mNo test files found, exiting with code 1
[39m
[2mfilter: [22m[33mtests/security/*.test.ts[39m
[2minclude: [22m[33m**/*.test.ts[39m
[2mexclude:  [22m[33mnode_modules[2m, [22mdist[39m


                        <br><em>å»ºè®®: æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œè”ç³»ç›¸å…³å¼€å‘äººå‘˜</em>
                    </li>
                
                    <li>
                        <strong>æ€§èƒ½æµ‹è¯•</strong>: Command failed: npm run test:performance
[31mNo test files found, exiting with code 1
[39m
[2mfilter: [22m[33mtests/performance/*.test.ts[39m
[2minclude: [22m[33m**/*.test.ts[39m
[2mexclude:  [22m[33mnode_modules[2m, [22mdist[39m


                        <br><em>å»ºè®®: æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œè”ç³»ç›¸å…³å¼€å‘äººå‘˜</em>
                    </li>
                
                    <li>
                        <strong>é›†æˆæµ‹è¯•</strong>: Command failed: npm run test:integration
[31mNo test files found, exiting with code 1
[39m
[2mfilter: [22m[33mtests/integration/*.test.ts[39m
[2minclude: [22m[33m**/*.test.ts[39m
[2mexclude:  [22m[33mnode_modules[2m, [22mdist[39m


                        <br><em>å»ºè®®: æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œè”ç³»ç›¸å…³å¼€å‘äººå‘˜</em>
                    </li>
                
            </ul>
        </div>
    
</body>
</html>
    